<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<title>react-isomorphic</title>
<script>
!(function(win, doc){
	var docEle=doc.documentElement,
	    evt = 'onorientationchange' in win ? 'orientationchange' : 'resize',
    	timer = null;

    function setFontSize() {
        var winWidth =  win.innerWidth||docEle.clientWidth||doc.body.clientWidth,
        	size = (winWidth>640?640:winWidth) / 640 * 100;
        docEle.style.fontSize = size + 'px' ;
    }
  
    win.addEventListener(evt, function () {
        clearTimeout(timer);
        timer = setTimeout(setFontSize, 300);
    }, false);
    
    win.addEventListener("pageshow", function(e) {
        if (e.persisted) {
            clearTimeout(timer);
            timer = setTimeout(setFontSize, 300);
        }
    }, false);
    setFontSize();
}(window, document));
</script>
</head>
<body>
<div class="app">
<h1 class="main-title"> 豆瓣电影 </h1>
<div id="app">{{html}}</div>
<footer>
    All content copyright <a href="https://github.com/edwardzhong/">Jeff Zhong</a><br>&copy; 2017. All rights reserved
</footer>
<script>window.__INITIAL_STATE__ = {{initialState}}</script>
</div>	
</body>
</html>